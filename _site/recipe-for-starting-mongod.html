<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Recipe for starting MongoD</title>
  <meta name="description" content="      A couple posts ago, I made a ‘recipe’ for creating a typescript project with node.js.  I’ve actually used that a few times, and I’ve gotten some feedba...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <link rel="canonical" href="http://nathanBrenner.github.io//recipe-for-starting-mongod">
  <link rel="alternate" type="application/rss+xml" title="Nathan Brenner" href="http://nathanBrenner.github.io//feed.xml" />
</head>

  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">Nathan Brenner</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
          <a class="page-link" href="/about/">About</a>
          
        
          
          <a class="page-link" href="/contact/">Contact</a>
          
        
          
        
          
        
          
        
          
          <a class="page-link" href="/projects/">Portfolio</a>
          
        
          
          <a class="page-link" href="/resume">Resume</a>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">Recipe for starting MongoD</h1>
    <p class="post-meta">May 8, 2016 • Nathan</p>
  </header>

  <article class="post-content">
    <ol>
  <li>
    <p>A couple posts ago, I made a ‘recipe’ for creating a typescript project with node.js.  I’ve actually used that a few times, and I’ve gotten some feedback from other devs that liked it, so this is another one.</p>
  </li>
  <li>
    <p>I’m a ta for a MongoDB University course with node.js that starts soon.  Part of that means I’ll be previewing the materials before the students have access so I can offer suggestions to the instructors, and the other part means I’ll be closely watching the forum so I can break blockers as they come up.  So I’m taking notes as I watch the video as an adjudicator to the course materials, to guess possible student questions, and to expand my understanding of MongoDB.</p>
  </li>
</ol>

<h2 id="format">Format</h2>
<p>The first few steps involve the browser, then they switch to a lot of bash commands in the terminal.  I’ve gotten MongoDB running on PCs, I’ve used Bash with some luck although I haven’t tried it on Windows 10 yet, and I’ve used Mac default Terminal (which I prefer), and iTerm.  I’m now using iTerm on my day job computer, and I haven’t tried that (maybe tomorrow, fingers crossed some fires stay out), so this post will get updated.</p>

<p>Basically Bash command will be followed by brief explanation.  Bash commands are the code snippets, assume you have to type enter after you type in the command.  This isn’t a post for learning Bash.  Check out <a href="http://nodeschool.io/">learnyoubash at node school</a>.</p>

<h2 id="steps-for-mac-users">Steps for Mac users</h2>
<ol>
  <li>google <code class="highlighter-rouge">download mongodb</code>, click on the link near the top that says <span style="font-weight: 700">MongoDB Download Center | MongoDB</span></li>
  <li>Scroll down, click on the green button that says <strong>DOWNLOAD (tzg)</strong>.  This will download the Current Stable Release, which it says if you search the page for that text. As of the first draft of this post, it was 3.2.6.  This mongo/node course uses 3.2.x</li>
  <li>Open up a command prompt.</li>
  <li><code class="highlighter-rouge">cd ~/Downloads</code> : Move into your Downloads directory</li>
  <li><code class="highlighter-rouge">ls -lt</code> List all the contents of the Downloads directory, look at what gets printed first.  It should say something like <strong>mongodb-osx-ssl-x86_64-3.2.6.tgz</strong>.  It might be different depending on your mac, but it should definitely end with <strong>.tgz</strong></li>
  <li><code class="highlighter-rouge">tar xvf mongobd-osx-ssl-x86_64-3.2.6.tgz</code> Hint: use code completion.  Type the first few letters of the tgz file and hit the tab key.  This is un-tarring the file.</li>
  <li><code class="highlighter-rouge">cd mongodb-osx-x86_64-3.2.6</code> Move into the file you just expanded. Notice no tar ball extension.</li>
  <li><code class="highlighter-rouge">ls</code> List all the contents of that mongodb directory.  Notice the <strong>bin</strong> directory.</li>
  <li><code class="highlighter-rouge">cd bin</code> Move into the <strong>bin</strong> directory.</li>
  <li><code class="highlighter-rouge">ls -l</code> List all the contents of the <strong>bin</strong> directory. Notice <strong>mongo</strong> and <strong>mongod</strong></li>
  <li><code class="highlighter-rouge">sudo root</code> You need to become root so you can do the next step.  This is going to let you write/read mongodb documents.  You’ll probably need to type in your password.  Don’t expect to see any characters as you type it in.</li>
  <li><code class="highlighter-rouge">mkdir -p /data/db</code> Create the directory that mongodb by default saves its data.</li>
  <li><code class="highlighter-rouge">chmod 777 /data</code></li>
  <li><code class="highlighter-rouge">chmod 777 /data/db</code></li>
  <li><code class="highlighter-rouge">ls -ld /data/db</code> You should see something like <strong>root</strong></li>
  <li><code class="highlighter-rouge">exit</code> Get out of root</li>
  <li><code class="highlighter-rouge">whoami</code> You should see your computer’s username that you’re logged into.</li>
  <li><code class="highlighter-rouge">./monngod</code> This starts the MongoDB server. Notice <strong>on port 27017</strong>.  That’s the default port, and will be more useful later when you connect the MongoDB Server through a driver.</li>
  <li><code class="highlighter-rouge">control + t</code> or open a new tab (top menu=&gt;Shell=&gt;New Tab), and move into that tab for the next few commands.</li>
  <li><code class="highlighter-rouge">pwd</code> You should still be in <strong>bin</strong>.  If you’re not, like if you’re using <strong>iTerm</strong>, move back into it with <code class="highlighter-rouge">~/Downloads/mongodb-osx-x86_64-3.2.6/bin</code></li>
  <li><code class="highlighter-rouge">./mongo</code> This starts the Mongo shell.</li>
  <li><code class="highlighter-rouge">db.names.insert({name: "Your name"})</code>.  All this does is write to the server.  Expect to see <code class="highlighter-rouge">WriteResult({ "nInserted" : 1 })</code>.</li>
  <li><code class="highlighter-rouge">db.names.find()</code> You should see a json object with 2 fields: an _id field with an ObjectId, and a name field with the value you just typed.</li>
  <li>Switch back to the tab that has the mongod server running</li>
  <li><code class="highlighter-rouge">control c</code> This stops the server</li>
  <li><code class="highlighter-rouge">sudo root</code> Become root again</li>
  <li><code class="highlighter-rouge">cp * /user/local/bin</code> You’re copying the contents of the mongo bin directory to the <strong>/user/local/bin directory</strong>.</li>
  <li><code class="highlighter-rouge">exit</code> exit root</li>
  <li><code class="highlighter-rouge">which mongod</code> You should see <strong>/usr/local/bin/mongod</strong></li>
  <li><code class="highlighter-rouge">cd</code> switch back to your home directory</li>
  <li><code class="highlighter-rouge">mongod</code> You just started the mongod server from your home directory, which you’ll do from now on.</li>
  <li>Switch into another tab. Run <code class="highlighter-rouge">control c</code> if you moved back to the tab where you had the mongo shell running before. <code class="highlighter-rouge">cd</code> so you move to home directory. <code class="highlighter-rouge">mongo</code>. You can start a mongo shell now.</li>
</ol>

<p>Conclusion: To use the mongo shell, open command line, run <code class="highlighter-rouge">mongod</code>, open another command line window, run <code class="highlighter-rouge">mongo</code>. You can do this from any directory</p>

<h3 id="additional-feedback-based-off-of-setting-up-on-mac-with-iterm">Additional feedback based off of setting up on Mac with iTerm:</h3>
<p>When I tried ths on iTerm, I got stuck on step 11.  My work computer is a little older than my personal mac (2011 vs. 2014), and is running OS X 10.11.5  <code class="highlighter-rouge">sudo root</code> wouldn’t work on my work computer.  This didn’t matter if it was on Terminal or iTerm.  I digged around a little bit: I enabled root user from this <a href="https://www.youtube.com/watch?v=qTtVhAEAs2Q">youtube video</a> but couldn’t figure out how to become root user, then I read into how El Capitan is ‘rootless’ from this blog post: <a href="http://apple.stackexchange.com/questions/193368/what-is-the-rootless-feature-in-el-capitan-really">http://apple.stackexchange.com/questions/193368/what-is-the-rootless-feature-in-el-capitan-really</a>, but then I found the solution that was a lot easier than going through the 31 steps above: <strong>Use homebrew</strong>.  Follow the steps on <a href="http://www.hacksparrow.com/how-to-install-mongodb-on-mac-os-x.html">this blog</a> for a much faster approach to getting going with mongo. Otherwise, no significant insites on using iTerm.  I just need to dig into the documentation and get it working as well as my personal set up on Terminal with <a href="https://github.com/robbyrussell/oh-my-zsh">oh my zsh</a>.</p>

<h2 id="setting-up-for-pc-users">Setting up for PC Users</h2>
<ol>
  <li>Google <code class="highlighter-rouge">download mongo</code> just like for mac, select the same website.  The site detects if you’re on a Mac or PC, so locate the most recent stable release and download the 64 bit version.</li>
  <li>Switch to explorer and open into Downloads.  Unzip the MongoDB file.</li>
  <li>Create a new directory and move the mongodb file from Downloads into that file.</li>
  <li><code class="highlighter-rouge">mkdir data</code></li>
  <li><code class="highlighter-rouge">mkdir data/db</code></li>
  <li>From the folder you moved the mongodb contents, you should be able to start the mongo server with <code class="highlighter-rouge">mongod</code> and in a separate bash window, run <code class="highlighter-rouge">mongo</code> to start the shell.  That’s it.  Test out the shell with a write and read.</li>
</ol>

  </article>
  
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'jekyllsample';
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">Nathan Brenner</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li><a href="mailto:nathan.j.brenner@gmail.com">Contact</a></li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/nathanBrenner">
              <span class="icon  icon--github">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
                </svg>
              </span>

              <span class="username">nathanBrenner</span>
            </a>
          </li>
          

          
          <li>
            <a href="https://twitter.com/njbrenner">
              <span class="icon  icon--twitter">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
                  c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/>
                </svg>
              </span>

              <span class="username">njbrenner</span>
            </a>
          </li>
          
        </ul>
      </div>

      <div class="footer-col  footer-col-3">
        <p class="text">A sample of my work and thoughts</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
